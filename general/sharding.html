<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sharding | discord.ts official documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" href="https://i.imgur.com/kSLOEIF.png">
    <meta name="description" content="The discord.ts documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/discord.ts/assets/css/0.styles.5272e1fa.css" as="style"><link rel="preload" href="/discord.ts/assets/js/app.f5d0501f.js" as="script"><link rel="preload" href="/discord.ts/assets/js/2.6a6c66cc.js" as="script"><link rel="preload" href="/discord.ts/assets/js/27.bfedaa43.js" as="script"><link rel="prefetch" href="/discord.ts/assets/js/10.3a654982.js"><link rel="prefetch" href="/discord.ts/assets/js/11.49b75040.js"><link rel="prefetch" href="/discord.ts/assets/js/12.748c879c.js"><link rel="prefetch" href="/discord.ts/assets/js/13.1cfc1fe6.js"><link rel="prefetch" href="/discord.ts/assets/js/14.c0543f96.js"><link rel="prefetch" href="/discord.ts/assets/js/15.ffa790ee.js"><link rel="prefetch" href="/discord.ts/assets/js/16.528922e3.js"><link rel="prefetch" href="/discord.ts/assets/js/17.dc72bb7b.js"><link rel="prefetch" href="/discord.ts/assets/js/18.6cb92856.js"><link rel="prefetch" href="/discord.ts/assets/js/19.d190342a.js"><link rel="prefetch" href="/discord.ts/assets/js/20.1f61f84c.js"><link rel="prefetch" href="/discord.ts/assets/js/21.ebc0f2ea.js"><link rel="prefetch" href="/discord.ts/assets/js/22.07098cd5.js"><link rel="prefetch" href="/discord.ts/assets/js/23.aadddf5e.js"><link rel="prefetch" href="/discord.ts/assets/js/24.273db39e.js"><link rel="prefetch" href="/discord.ts/assets/js/25.1f93b7f3.js"><link rel="prefetch" href="/discord.ts/assets/js/26.64b4771e.js"><link rel="prefetch" href="/discord.ts/assets/js/28.04a3c421.js"><link rel="prefetch" href="/discord.ts/assets/js/29.4186c0e9.js"><link rel="prefetch" href="/discord.ts/assets/js/3.f88aca02.js"><link rel="prefetch" href="/discord.ts/assets/js/4.5305de23.js"><link rel="prefetch" href="/discord.ts/assets/js/5.dc741a86.js"><link rel="prefetch" href="/discord.ts/assets/js/6.f5f7aceb.js"><link rel="prefetch" href="/discord.ts/assets/js/7.90570d11.js"><link rel="prefetch" href="/discord.ts/assets/js/8.a92dcaef.js"><link rel="prefetch" href="/discord.ts/assets/js/9.e8aeb2c2.js">
    <link rel="stylesheet" href="/discord.ts/assets/css/0.styles.5272e1fa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/discord.ts/" class="home-link router-link-active"><!----> <span class="site-name">discord.ts official documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://discord.gg/JbVSu4KxwV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord server
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/owencalvin/discord.ts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://discord.gg/JbVSu4KxwV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord server
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/owencalvin/discord.ts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/discord.ts/installation/" class="sidebar-link">Installation</a></li><li><section class="sidebar-group depth-0"><a href="/discord.ts/general/client" class="sidebar-heading clickable open"><span>General</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/discord.ts/general/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/discord.ts/general/client.html" class="sidebar-link">Client</a></li><li><a href="/discord.ts/general/metadatastorage.html" class="sidebar-link">MetadataStorage</a></li><li><a href="/discord.ts/general/argsof.html" class="sidebar-link">ArgsOf</a></li><li><a href="/discord.ts/general/events.html" class="sidebar-link">List of the events</a></li><li><a href="/discord.ts/general/sharding.html" aria-current="page" class="active sidebar-link">Sharding</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#purpose" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#before-you-start" class="sidebar-link">Before you start</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#what-if-my-bot-is-in-less-than-2-000-servers" class="sidebar-link">What if my bot is in less than 2,000 servers?</a></li><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#what-if-my-bot-does-not-compile-with-tsc" class="sidebar-link">What if my bot does not compile with tsc?</a></li></ul></li><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#i-m-ready" class="sidebar-link">I'm Ready</a></li><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#running" class="sidebar-link">Running</a></li><li class="sidebar-sub-header"><a href="/discord.ts/general/sharding.html#that-s-it" class="sidebar-link">That's it</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/discord.ts/decorators/discord" class="sidebar-heading clickable"><span>Decorators</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/discord.ts/decorators/discord.html" class="sidebar-link">@Discord</a></li><li><a href="/discord.ts/decorators/on.html" class="sidebar-link">@On</a></li><li><a href="/discord.ts/decorators/once.html" class="sidebar-link">@Once</a></li><li><a href="/discord.ts/decorators/slash.html" class="sidebar-link">@Slash</a></li><li><a href="/discord.ts/decorators/option.html" class="sidebar-link">@Option</a></li><li><a href="/discord.ts/decorators/choice.html" class="sidebar-link">@Choice</a></li><li><a href="/discord.ts/decorators/choices.html" class="sidebar-link">@Choices</a></li><li><a href="/discord.ts/decorators/guild.html" class="sidebar-link">@Guild</a></li><li><a href="/discord.ts/decorators/permission.html" class="sidebar-link">@Permission</a></li><li><a href="/discord.ts/decorators/group.html" class="sidebar-link">@Group</a></li><li><a href="/discord.ts/decorators/guard.html" class="sidebar-link">@Guard</a></li><li><a href="/discord.ts/decorators/description.html" class="sidebar-link">@Description</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sharding"><a href="#sharding" class="header-anchor">#</a> Sharding</h1> <p>Sharding your bot with <code>@typeit/discord</code>.</p> <p></p><div class="table-of-contents"><ul><li><a href="#purpose">Purpose</a></li><li><a href="#before-you-start">Before you start</a><ul><li><a href="#what-if-my-bot-is-in-less-than-2-000-servers">What if my bot is in less than 2,000 servers?</a></li><li><a href="#what-if-my-bot-does-not-compile-with-tsc">What if my bot does not compile with tsc?</a></li></ul></li><li><a href="#i-m-ready">I'm Ready</a></li><li><a href="#running">Running</a></li><li><a href="#that-s-it">That's it</a></li></ul></div><p></p> <h2 id="purpose"><a href="#purpose" class="header-anchor">#</a> Purpose</h2> <p>Sharding is the process of splitting your main discord process into multiple shards to help with the load when your bot is in 2,500+ guilds. discord.<strong>js</strong> has recommended to start making updates for sharding at around 2,000 guilds.</p> <p><a href="https://discordjs.guide/sharding/#when-to-shard" target="_blank" rel="noopener noreferrer">Discord.js Sharding Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>When you hit that milestone and need to begin the sharding process this guide will serve as a starting document to help you get set up.</p> <h2 id="before-you-start"><a href="#before-you-start" class="header-anchor">#</a> Before you start</h2> <ul><li>✅ Get your bot into 2,000 guilds</li> <li>✅ Ensure your bot compiles down to javascript with <code>tsc</code></li></ul> <h3 id="what-if-my-bot-is-in-less-than-2-000-servers"><a href="#what-if-my-bot-is-in-less-than-2-000-servers" class="header-anchor">#</a> What if my bot is in less than 2,000 servers?</h3> <p>discord.<strong>js</strong> has stated</p> <p>&quot;<em>Sharding is only necessary at 2,500 guilds—at that point, Discord will not allow your bot to login without sharding. With that in mind, you should consider this when your bot is around 2,000 guilds, which should be enough time to get this working. Contrary to popular belief, sharding itself is very simple. It can be complex depending on your bot's needs, however. If your bot is in a total of 2,000 or more servers, then please continue with this guide. Otherwise, it may be a good idea to wait until then.</em>&quot;</p> <p>However if you are curious you may continue to read this doc! But don't worry about sharding until 2,000 guilds. Focus on building a quality bot as sharding adds more complexity.</p> <h3 id="what-if-my-bot-does-not-compile-with-tsc"><a href="#what-if-my-bot-does-not-compile-with-tsc" class="header-anchor">#</a> What if my bot does not compile with tsc?</h3> <p>If your bot does not compile with <code>tsc</code> but runs with <code>ts-node</code> you will <strong>not</strong> be able to shard with the discord.<strong>js</strong> sharding managers.</p> <p>I found success with using this <code>tsconfig.json</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es2020&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;emitDecoratorMetadata&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es2020&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;esnext.asynciterable&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src/build&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;spaces&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><p>If you are receiving errors that complain about imports. Try using the following import where the compiler complains about the import.</p> <div class="language-diff extra-class"><pre class="language-diff"><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import * as fs from 'fs';
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import fs = require(&quot;fs&quot;);
</span></span></code></pre></div><h2 id="i-m-ready"><a href="#i-m-ready" class="header-anchor">#</a> I'm Ready</h2> <p>Did you really read the previous section? If not go back and read it.</p> <p>Okay so now that you are ready let's talk about the set up.</p> <div class="language-diff extra-class"><pre class="language-diff"><code>Bot
├───environments/
├───src/
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">    ├───app/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───abstract/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───commands/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───const/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───decorators/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───guards/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───handlers/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───models/
</span><span class="token prefix unchanged"> </span><span class="token line">       ├───services/
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">       ├───entry.bot.ts
</span><span class="token prefix inserted">+</span><span class="token line">       └───shard.bot.ts
</span></span>
</code></pre></div><p>I recommend renaming your main entry file where you call <code>client.login(TOKEN);</code> to <code>entry.bot.ts</code> you can rename it to whatever you'd like just make sure you know that file is where the bot starts. Next you'll need to make a new <code>shard.bot.ts</code> file. Again you can name it whatever as long as you know this file is where we will handle sharding.</p> <p>You don't need to change anything in the <code>entry.bot.ts</code> file. The magic will be in the <code>shard.bot.ts</code> file.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Read the <a href="https://discordjs.guide/sharding/" target="_blank" rel="noopener noreferrer">discord.js sharding docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>You will make a new class in the <code>shard.bot.ts</code> file. I have named my class ShardBot</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ShardBot</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Inside this class I have defined a <code>static start</code> method that gets called outside of the ShardBot class.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ShardBot</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ShardBot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Now that we have the main bits of the Sharding class we need to use the discord.<strong>js</strong> <code>ShardingManager</code> to spawn a shard.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ShardingManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;discord.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> environment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../environments/environment&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ShardBot</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ShardingManager</span><span class="token punctuation">(</span><span class="token string">&quot;./src/build/src/app/entry.bot.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      token<span class="token operator">:</span> environment<span class="token punctuation">.</span><span class="token constant">DISCORD_TOKEN</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    manager<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;shardCreate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>shard<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Launched shard </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>shard<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    manager<span class="token punctuation">.</span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ShardBot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The main thing to note here is that the path in the Instantiation of the <code>ShardingManager</code> has the path to the <code>entry.bot.js</code> file and not the <code>.ts</code> file. The sharding manager requires the bot file to be a <code>.js</code> file. This is why you need to ensure you can compile your bot with <code>tsc</code>.</p> <p>The path in there may also be different for your bot so make sure you have the correct path!</p> <h2 id="running"><a href="#running" class="header-anchor">#</a> Running</h2> <p>Now that your bot compiles and has the shard file we can run the bot with the sharding class.</p> <p><code>node build/app/shard.bot.js</code></p> <p>will start the shard here.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Make sure you provide the correct path to the shard file when running with node.</p></div> <p>Once it starts up you should see</p> <div class="language- extra-class"><pre class="language-text"><code>Launched shard 0
</code></pre></div><p>in the console.</p> <h2 id="that-s-it"><a href="#that-s-it" class="header-anchor">#</a> That's it</h2> <p>Congrats! Your bot is now using the sharding managers. You can still run the entry file instead of the shard file if you don't want to use sharding until it is needed.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/owencalvin/discord.ts/edit/master/docs/src/general/sharding.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/25/2021, 2:11:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/discord.ts/general/events.html" class="prev">
        List of the events
      </a></span> <span class="next"><a href="/discord.ts/decorators/discord.html">
        @Discord
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/discord.ts/assets/js/app.f5d0501f.js" defer></script><script src="/discord.ts/assets/js/2.6a6c66cc.js" defer></script><script src="/discord.ts/assets/js/27.bfedaa43.js" defer></script>
  </body>
</html>
